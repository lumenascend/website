---
const faqs = [
  {
    question: "What services do you offer?",
    answer: "We offer bespoke software solutions, mobile applications, SEO, and more.",
  },
  {
    question: "How long does a project take?",
    answer: "Project timelines vary depending on complexity, but we work efficiently to meet deadlines.",
  },
  {
    question: "Do you provide ongoing support?",
    answer: "Yes, we offer maintenance and support services for all our projects.",
  },
];
---

<div class="faq-container max-w-5xl mx-auto my-32">

    <h4 class="text-xl text-royalPlum font-bold">Faqs</h4>
  {faqs.map((faq, index) => (
    <div class="faq-item border-b border-gray-300 py-4" data-index={index}>
      <button
        class="faq-question flex items-center w-full text-left font-semibold text-lg"
      >
        <span class="faq-icon text-royalPlum pr-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 plus-icon"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 4v16m8-8H4"
            />
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 minus-icon hidden"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M20 12H4"
            />
          </svg>
        </span>
        <span>{faq.question}</span>
      </button>
      <div
        class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out mt-2 text-gray-600"
      >
        {faq.answer}
      </div>
    </div>
  ))}
</div>

<script>
  // Attach event listeners after the DOM is rendered
  document.addEventListener("DOMContentLoaded", () => {
    const faqItems = document.querySelectorAll(".faq-item");

    faqItems.forEach((item) => {
      const button = item.querySelector(".faq-question");
      const answer = item.querySelector(".faq-answer");
      const plusIcon = item.querySelector(".plus-icon");
      const minusIcon = item.querySelector(".minus-icon");

      button.addEventListener("click", () => {
        if (answer.style.maxHeight) {
          // Collapse the answer
          answer.style.maxHeight = null;
          plusIcon.classList.remove("hidden");
          minusIcon.classList.add("hidden");
        } else {
          // Expand the answer
          answer.style.maxHeight = answer.scrollHeight + "px";
          plusIcon.classList.add("hidden");
          minusIcon.classList.remove("hidden");
        }
      });
    });
  });
</script>

<style>
  .faq-container {
    padding: 1rem;
  }

  .faq-item {
    margin-bottom: 1rem;
  }

  .faq-question {
    cursor: pointer;
  }
</style>